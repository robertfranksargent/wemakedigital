package com.wemakedigital.net {	import com.wemakedigital.net.events.LazyNetStreamEvent;	import com.wemakedigital.net.info.CuePoint;	import com.wemakedigital.net.info.MetaData;	import com.wemakedigital.net.info.XMPData;		import flash.net.NetConnection;	import flash.net.NetStream;		public class LazyNetStream extends NetStream 	{		private var metaData : MetaData ;		private var xmpData : XMPData ;		public function LazyNetStream ( connection : NetConnection )		{			super( connection ) ;		}				public function getMetaData ( ) : MetaData		{			return this.metaData ;		}				public function getXMPData ( ) : XMPData		{			return this.xmpData ;		}		public function onMetaData ( info : Object ) : void		{			this.metaData = new MetaData( ) ;			this.metaData.audioCodeId = info[ MetaData.AUDIO_CODE_ID ] ;			this.metaData.audioDataRate = info[ MetaData.AUDIO_DATA_RATE ] ;			this.metaData.audioDelay = info[ MetaData.AUDIO_DELAY ] ;			this.metaData.canSeekToEnd = info[ MetaData.CAN_SEEK_TO_END ] ;			this.metaData.duration = info[ MetaData.DURATION ] ;			this.metaData.frameRate = info[ MetaData.FRAME_RATE ] ;			this.metaData.height = info[ MetaData.HEIGHT ] ;			this.metaData.videoCodeId = info[ MetaData.VIDEO_CODE_ID ] ;			this.metaData.videoDataRate = info[ MetaData.VIDEO_DATA_RATE ] ;			this.metaData.width = info[ MetaData.WIDTH ] ;						var e : LazyNetStreamEvent = new LazyNetStreamEvent( LazyNetStreamEvent.META_DATA ) ;			e.metaData = this.metaData ;			this.dispatchEvent( e ) ;		}				public function onCuePoint ( info : Object ) : void		{			var cuePoint : CuePoint = new CuePoint( ) ;			cuePoint.name = info[ CuePoint.NAME ] ;			cuePoint.parameters = info[ CuePoint.PARAMETERS ] ;			cuePoint.time = info[ CuePoint.TIME ] ;			cuePoint.type = info[ CuePoint.TYPE ] ;						var e : LazyNetStreamEvent = new LazyNetStreamEvent( LazyNetStreamEvent.CUE_POINT ) ;			e.cuePoint = cuePoint ;			this.dispatchEvent( e ) ;		}				public function onImageData ( imageData : Object ) : void		{					}		public function onPlayStatus ( info : Object ) : void		{			var e : LazyNetStreamEvent = new LazyNetStreamEvent( LazyNetStreamEvent.PLAY_STATUS ) ;			this.dispatchEvent( e ) ;		}				public function onXMPData ( xmpData : Object ) : void		{			this.xmpData = new XMPData( ) ;			this.xmpData.liveXML = new XML( xmpData[ XMPData.LIVE_XML] ) ;						var e : LazyNetStreamEvent = new LazyNetStreamEvent( LazyNetStreamEvent.XMP_DATA ) ;			e.xmpData = this.xmpData ;			this.dispatchEvent( e ) ;		}	}}